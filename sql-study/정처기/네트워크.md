# 네트워크
## 1. 네트워크 기본
### 네트워크 
- 2대 이상의 컴퓨터들을 연결하고 서로 통신할 수 있는 환경 
- 거리 기반 네트워크
  - PAN : 5m 전후의 인접 통신 
  - LAN : 근거리 네트워크
  - MAN : LAN과 WAN의 중간 형태
  - WAN : 광대역 네트워크 망
### 네트워크 토폴로지 (네트워크 어떻게 생겼냐)
1. 계층형 : 관리가 쉽고 확장성 좋음 / 상위 노드 고장시 상위 네트워크와의 통신 불가
2. 버스형 : 모든 노드가 하나의 중앙 버스 라인에 연결 / 문제 생기면 전체에 영향
3. 성형 : 모든 노드가 중앙 노드에 연결
4. 링형 : 각 노드가 순환 형태로 두 개의 인접 노드와 연결 
5. 망형 : 노드들이 서로 광범위하게 연결
### 데이터 전송
1. 아날로그/디지털 전송
2. 방향에 따른 구분
   - 단방향 : 일방적인 통신 (라디오, TV)
   - 반이중 : 양방향 통신 동시 전송은 불가 (무전기)
   - 전이중 : 양방향 데이터 동시 송수신 (전화)
3. 직렬/병렬 전송
   - 직렬 : 한 번에 한 비트씩 순서대로 전송
   - 병렬 : 문자 단위 등 여러 비트를 동시에 전송
4. 동기/비동기 전송
   - 동기 : 고속! 여러 문자를 포함하는 데이터 블록 단위로 전송
     - 문자 동기방식, 비트 동기 방식 존재
     - 문자 동기방식
       - SYN : 동기 맞춤 문자
       - STX : 실제 전송할 데이터의 시작
       - ETX : 데이터의 종료
   - 비동기 : 저속! 데이터의 시작과 끝을 Start bit과 Stop Bit로 표시해 동기화
     - 전송되지 않을 때 통신회선은 휴지 상태
## 2. 근거리 통신망 (LAN)
- 여러 대의 컴퓨터와 주변장치가 통신 네트워크를 구성하여 통신하는 망
- 구성요소
  - NIC : LAN 카드
  - 리피터 : 신호 증폭기
  - 허브 : 케이블 집중 장치
  - 브리지 : 서로 다른 LAN을 연결하여 신호 교환
  - 라우터 : 서로 다른 네트워크(LAN, MAN, WAN) 연결, 원거리 연결 가능 
  - 게이트웨이 : 서로 다른 통신망 간 메시지 전달 
- 전송방식 
  - 베이스 밴드 : 디지털 신호를 변조하지 않고 전송, 짧은 거리
  - 브로드 밴드 : 디지털을 아날로그로 변조하여 전송, FDM(주파수 분할 다중화) 사용, 동시에 여러 정보 전송 가능, 먼 거리
- LAN의 프로토콜
  - LLC : OSI 모델의 데이터 링크 계층에서의 기능을 담당, 흐름 제어, 오류 관리
  - MAC : 물리적 전송 매체와의 연결 방식을 제어, CSMA/CD, 토큰 링, 토큰 버스 등을 포함 
### LAN의 표준 802.X 시리즈
- 802.1 : LAN의 전체 구성
- 802.2 : LLC(논리 링크 제어)에 관한 규약
- 802.3 : CSMA/CD 방식에 기반한 이더넷 규약, 유선랜
- 802.4 : 토큰 버스 네트워크에 관한 규약
- 802.5 : 토큰 링에 관한 규약
- 802.11 : CSMA/CA, 무선 랜, 충돌 회피
- 802.15 : 무선 개인 통신망 표준, 블루투스 포함
- LAN의 매체 접근 제어 방식(MAC)
  1. CSMA/CD : 유선 네트워크에서 데이터 충돌을 감지하고 관리
  2. CSMA/CA : 무선 네트워크 특성 상 충돌 감지가 어려움으로, 충돌 회피 기능을 포함한 CSMA/CA 사용
  + [CSMA/CD 와 CSMA/CA 차이점](https://trts1004.tistory.com/12109027)
  3. 토큰 버스 : 버스형 LAN에서 사용되는 통신 방식, 토큰이 논리적으로 형성된 링을 따라 각 노드를 차례로 순회
  4. 토큰 링 : 링형 LAN에서 사용되는 통신 방식, 물리적으로 연결된 링을 따라 순환하는 토큰을 이용해 송신 권리를 제어

### HDLC
- 데이터 링크 계층에서 사용되는 비트 지향 프로토콜
- FCS를 통해 오류 검출, 순차적인 번호 매김과 확인 응답을 통해 흐름 제어
- 프레임 구조
  - 플래그 : 각 프레임의 시작과 끝
  - 주소 필드 : 프레임의 수신자를 식별
  - 제어 필드 : 프레임의 유형(정보, 감독, 또는 비순서 프레임)을 식별
  - 데이터 : 실제 전송할 사용자 데이터
  - FCS : 오류 검출을 위한 필드
- HDLC 프레임 유형
  - 정보 프레임 : 데이터 전송
  - 감독 프레임 : 오류 검출, 흐름 제어
  - 비순서 프레임 : 추가적인 제어 목적이나 특별한 상황
- HDLC 스테이션 
  - 주국(Primary Station) : 링크 제어의 책임을 갖고 명령을 내림 
  - 종국(Secondary Station) : 주국 제어 하에 동작하며 응답만 가능 
  - 혼성국(Combined Station) : 주국과 종국의 특징을 결합
- HDLC 전송 모드
  1. 정규 응답 모드(Normal Response Mode, NRM)
    - 일반적으로 하나의 주국과 하나 또는 여러 종국이있다.
    - 주국은 네트워크에서 통신을 제어하며, 종국은 주국의 지시에만 응답한다. 
  2. 비동기 균형 모드(Asynchronous Balanced Mode, ABM)
     - 가장 일반적으로 사용되는 HDLC 모드
     - 이 모드에서는 모든 단말이 주국기능을 수행할 수 있으며, 독립적으로 데이터를 전송하고 수신 할 수 있다. 
  3. 비동기 응답 모드(Asynchronous Response Mode, ARM)
     - 주국이 통신을 제어하지만, 종국도 자체적으로 데이터 전송을 시작할 수 있는 모드

## 3. 데이터 교환 방식과 다중화
- 패킷 교환 : 데이터그램 & 가상회선 
### 다중화
- 다중화 : 하나의 통신 회선을 여러 가입자가 동시에 사용할 수 있게 하는 기능
- 다중화기(MUX) : 여러 개의 터미널 신호를 하나의 통신 회선을 통해 전송할 수 있게 하는 장치 
- 종류
  1. 주파수 분할 다중화기
     - 물리적 통신 채널을 여러 주파수 채널로 나누어 사용
     - 다양한 주파수로 변조하여 전송
     - 라디오, TV
  2. 시분할 다중화
     - 데이터 전송 시간을 일정한 시간 폭으로 나누어 여러 채널에 차례대로 분배
     - 동기식 시분할 : 모든 채널에 타임슬롯이 할당되며, 데이터가 없는 겨우에도 시간 슬롯 점유
     - 비동기식 시분할 : 실제로 데이터를 전송하는 채널에만 타임슬롯 할당
  3. 코드 분할 다중화 : 코드를 활용해 여러 데이터 신호를 결합하는 방식
  4. 파장 분할 다중화 : 여러 파장대를 활용해 동시에 데이터 전송하는 방식
  5. 공간 분할 다중화
- 역다중화기와 집중화기
  1. 역다중화기 : 하나의 고속 통신 회선 데이터를 받아 여러 개의 저속 회선으로 나누어 전송
  2. 집중화기 : 여러 개의 저속 회선에서 데이터를 버퍼에 축적한 후, 이를 모아서 하나의 고속 회선으로 전송하는 장치 

## 4. 인터넷
### 인터넷
- TCP/IP 프로토콜을 기반으로 컴퓨터와 네트워크들이 연결된 광범위한 통신망

### IP
- 인터넷에서 컴퓨터나 다른 네트워크 장치를 식별할 수 있는 고유 번호
- IPv4 : 8비트씩 4부분 = 32 비트
- IPv6 : 16비트씩 8부분 = 128 비트 
- 서브넷 마스크 : 네트워크 부분과 호스트 부분을 구분하기 위해 사용 
- 표시 형식
  - 네트워크 부분 : 할당 받은 부분
  - 호스트 부분 : 컴퓨터에 연결하는 부분
- 주소 분류 (IPv4) 
  - 유니캐스트 : 단일 송신자 ~ 단일 수신자 1대1 
  - 멀티캐스트 : 단일 송신자 ~ 다중 수신자 1대다
  - 브로드캐스트 : 같은 네트워크의 모든 장비에게 보내는 통신
- IP 주소 클래스 (IPv4)
  - A class : 0 ~ 127, 최상비트 0 → 국가/대형 통신망
  - B class : 128 ~ 191, 최상비트 10 → 중대형 통신망
  - C class : 192 ~ 223, 최상비트 110 → 소규모 통신망
- 주소 분류 (IPv6)
  - 유니캐스트 : 단일 송신자 ~ 단일 수신자 1대1
  - 멀티캐스트 : 단일 송신자 ~ 다중 수신자 1대다
  - 애니캐스트 : 그룹 내 가장 가까운 수신자에 전달
- IPv4 / IPv6 전환기술
  - 듀얼 스택 : 장비들이 IPv4와 IPv6 모두 지원, 두 프로토콜 동시 처리 가능
  - 터널링 : IPv6 패킷을 IPv4 패킷 속에 캡슐화하여 전송
  - 주소 변환 : IPv6 시스템과 IPv4 시스템 간의 헤더 변환을 통해 상호 운용성 제공
### 서브넷
- 서브넷 : 하나의 큰 네트워크를 작은 네트워크로 분할한 것
- 서브네팅 : 네트워크의 성능과 자원의 효율적 분배를 위해, 하나의 IP 네트워크를 더 작은 네트워크 영역으로 분할하는 과정
- 서브넷 마스크 : IP 주소에서 네트워크 부분과 호스트 부분을 구분하는 데 사용
- 서브네팅 문제 다시보기...
### IP 기타기술
- NAT : 사설 IP 주소와 공인 IP 주소 간의 변환
  - 사용목적 : 공인 IP 주소의 절약, 내부 네트워크의 보안 강화
  - 주소 할당 방식에 따른 종류
    - Static NAT : 공인 IP 주소와 사설 IP 주소를 1:1 매칭
    - Dynamic NAT : 여러 공인 IP 주소를 사설 IP 주소와 매칭
    - PAT : 포트 번호를 이용해 구분
- DNS : 도메인 이름을 IP 주소로 변환하거나 그 반대의 작업을 수행하는 시스템
- QoS : 네트워크 자원을 효율적으로 사용하여 특정 트래픽의 성능과 속도를 보장하는 기술
- VPN(가상 사설망) : 공용 네트워크를 통해 사설 네트워크에 안전하게 접속할 수 있게 하는 기술
- DHCP : 네트워크 장치에 자동으로 IP 주소를 할당하는 프로토콜

## 5. 프로토콜
### 프로토콜
- 컴퓨터나 통신 자이 간 원활한 데이터 교환을 위한 표준화된 통신 규약, 약속의 덩어리
- 기본요소 ( 구 의 타 ) 
  - 구문 : 데이터의 형식, 부호화, 신호 레벨
  - 의미 : 정보 전송을 위한 협조 사항 및 오류 관리 제어 정보를 규정
  - 타이밍 : 통신 속도, 메시지 순서 제어 등을 규정
- 기능 
  - 단편화와 재결합 : 데이터를 작은 블록으로 나누는 단편화와 수신측에서 이를 원래 데이터로 모으는 재결합 
  - 캡슐화(Encapsulation) : 데이터에 송수신지의 주소, 오류 검출 코드, 프로토콜 제어 정보를 추가하는 작업
  - 흐름제어(Flow Control) : 수신측 처리 능력에 따라 송신측의 데이터 전송량이나 속도 조절
  - 오류제어(Error Control) : 전송 중 오류 검출 및 정정
  - 혼잡제어(Congestion Control) : 네트워크 혼잡 시 송신 데이터 전송속도 감소
  - 동기화(Synchronization) : 송수신측의 타이밍 일치
  - 순서 제어(Sequencing) : 데이터 블록에 전송 순서 부여
  - 주소 지정(Addressing) : 목적지 이름, 주소, 경로 지정
  - 다중화(Multiplexing) : 하나의 통신 회선을 여러 가입자가 동시 사용
  - 경로 제어(Routing) : 푀적의 패킷 교환 경로 설정
### 흐름 제어와 오류제어
- 흐름제어 : 수신측의 처리 능력에 맞춰 송신측에서 데이터의 전송량이나 속도를 조절하는 기능
  - Stop and Wait : 각 패킷 전송 후 확인 응답을 받고 ~ 다음 패킷 전송
    - 실제로는 Frame이 전송됨. 하지만 헤더에 목적지 주소가 포함된 IP 를 확인하기 위해 '패킷'이 전송된다는 표현을 씀
  - Sliding Window : 수신측에서 설정한 윈도우 크기만큼 송신측에서 확인 응답 없이 ~ 패킷 연속 전송 가능
  - 피기배킹 : 양방향 통신에서 정보 프레임과 응답 프레임을 동시에 교차 전송하는 방식 
    - 수신측이 별도의 확인 응답(ACK) 프레임을 보내지 않고, 데이터 전송 프레임에 응답 기능을 포함시켜 효율을 높임
- 오류제어 : 전송 중에 발생하는 오류를 검출하고 정정하는 기능
  - ARQ(Automated Repeat Request)를 사용하여 재전송 기반 오류 제어를 수행
  - Stop and Wait ARQ : 데이터 전송 후, 수신 측으로부터의 확인 응답을 받을 때까지 대기하고, 그 후에 다음 데이터를 전송하는 방식 
  - Go Back N ARQ : 오류가 발생한 지점부터 모든 데이터를 재전송하는 기법
    - 오류 발견시 NACK 신호를 송신측에 보내고, 오류 이후의 데이터를 폐기
    - 중복 전송의 단점 존재
  - Selective Repeat ARQ : 오류가 발표한 프레임만 송신측이 재전송
    - 데이터 재정렬을 위한 별도의 버퍼가 필요
  - Adaptive ARQ : 전송 효율을 최대화하기 위해 데이터 프레임의 길이를 동적으로 조정하는 방식
- 오류 발생 원인
  - 감쇠 : 전송 매체를 통과하는 과정에서 신호가 점점 약해지는 현상
    → 중계기 또는 리피터를 사용해 완화
  - 지연 왜곡 : 신호의 도달 시간 차이로 인해 왜곡 발생
  - 상호 변조 잡음 : 주파수 간의 상호작용으로 새로운 주파수 생성
  - 충격 잡음 : 순간적으로 높은 진폭의 잡음 
- 전송 오류 제어 방식
  - 전진 오류 수정 : 수신측에서 재전송 요구 없이 스스로 오류를 검출하고 수정하는 방식
    - 해밍코드, 상승코드
  - 후진 오류 수정 : 오류 발견 시 송신측에 재전송을 요구하는 방식
    - 패리티 검사, CRC, 블록 합을 통해 검출
    - 오류 제어는 ARQ에 의해 수행
- 요류 검출
  - 패리티 검사 : 데이터 블록 끝에 추가되는 패리티 비트를 통해 오류 검출, 홀수개의 오류만 검출 가능
  - CRC(순환 중복 검사) : 데이터 뒤에 오류 검출 코드인 FCS를 추가하는 방식
  - 체크섬 : 데이터 워드의 순서 변경과 같은 오류는 검출 불가
  - 해밍코드 : 수신측에서 오류를 검출하고 자동으로 수정하는 방식, 1비트 오류 수정 가능
  - 상승코드 : 순차적 디코딩 및 한계값 디코딩을 사용한 오류 수정 방식
## 6. OSI 7계층
### OSI 7계층
- 네트워크 프로토콜 디자인과 통신을 7개의 계층으로 나누어 설명하는 모델
- 응 표 세 전 네 데 물~
### 계층별 특징 
1. 물리 계층
   - 기능 : 데이터를 전기적 신호로 변환하여 통신 케이블을 통해 전송, 단순 데이터 전달
   - 장비 : 통신 케이블, 랜카드(NIC), 리피터, 허브
   - PDU : 비트
2. 데이터 링크 계층 
   - 기능 : 포인트 투 포인트의 신뢰성 있는 데이터 전송 보장, 물리 계층의 오류를 감지하고 수정함
   - 장비 : (똘똘한 L2) 스위치, 브리지
   - PDU : 프레임
   - IP 주소 : 우리집에 들어온 고유한 공인 IP, 
     MAC 주소 : 내 컴퓨터의 고유 주소
3. 네트워크 계층 
   - 기능 : 데이터를 목적지까지 라우팅(빠르게 전달, 패킷 전송의 최적 경로 결정 프로세스)
   - 장비 : 라우터, L3 스위치
   - PDU : 패킷
4. 전송 계층 
   - 기능 : 양 종단 간 신뢰성 있는 데이터 전송을 책임짐
   - PDU : 세그먼트, 데이터그램
   - 프로토콜 : TCP(연결 확립하고 데이터 전송), UDP(그냥 냅따 데이터 전송)
5. 세션 계층 
   - 기능 : 양 끝단의 응용 프로세스 간 통신을 관리
   - 주요 역할 : TCP/IP 세션 생성 및 관리
6. 표현 계층
   - 기능 : 다른 데이터 표현 형식 간의 변환 담당
   - 주요 역할 : 데이터 암호화, MIME 인코딩
7. 응용 계층
   - 기능 : 사용자 인터페이스, 응용 프로그램 간 통신 관리
   - 프로토콜 : Http, FTP, SMTP, POP3, IMAP, Telnet

### 네트워크 장비
1. LAN 카드(NIC) : PC와 네트워크 간 정보를 교환하는 데 사용되는 장치, MAC 주소가 할당되어 있으며 48비트 물리적 주소
2. 허브 : 여러 노드를 연결하는 집중화 장비
3. 리피터 : 디지털 신호를 증폭
4. 브리지 : 두 개 이상의 LAN을 연결, 하나의 확장된 네트워크 형성
5. 스위칭 허브 : 허브 기능에 스위치 기능이 추가된 장비
6. 라우터 : 패킷을 목적지까지 최적의 경로를 통해 전달하는 장비
7. 게이트웨이 : 서로 다른 네트워크 간의 통신을 가능하게 하는 장치

### 백본
- 백본 네트워크 : 기간망으로도 알려진 대규모 패킷 통신망, 빠르게 전송할 수 있는 대규모 전송회선
- 백본 스위치 : 네트워크 중심에 위치해 모든 패킷이 지나가는 역할 
- 스위치 종류 
  - L2 : 데이터 링크 계층에서 운용되며, MAC 주소를 기반으로 스위칭
  - L3 : 인터넷 계층에서 운용되며, IP 주소를 기반으로 스위칭, 라우터
  - L4 : 전송 계층에서 운용되며, 로드밸런싱하는데 사용
  - L7 : 응용 계층에서 운용, 보안 장비에 사용
  
## 7. TCP/IP
### TCP/IP
- 현재 인터넷에서 널리 사용되는 프로토콜 모델
- 시스템 간 네트워크 연결과 데이터 전송에 사용됨
- TCP/IP 4계층 구조
  - (OSI 7계층) 응용, 표현, 세션 → (TCP/IP 4계층) 응용계층
    - 프로토콜
      - TCP
        - HTTP(80) : 하이퍼 텍스트 문서 송수신 프로토콜, HTTPs는 443 포트
        - FTP(데이터 20, 제어 21) : 파일 전송에 사용되는 프로토콜 
        - SMTP(25) : 이메일 전송에 사용되는 프로토콜 
        - TELNET(23) : 원격 제어
        - SSH(22) : 암호화
      - UDP
        - DNS(53) : 도메인 이름을 IP 주소로 변환
        - SNMP(통상 메시지 161, 트랩 메시지 162) 장비 관리 
        - DHCP(목적지 67, 출발지 68) : IP 주소 자동 할당 및 관리 프로토콜
  - (OSI 7계층) 전송 → (TCP/IP 4계층) 전송계층 | 신뢰성!
    - 프로토콜 
      - TCP : 연결 지향적 프로토콜
      - UDP : 비연결성 프로토콜
  - (OSI 7계층) 네트워크 → (TCP/IP 4계층) 인터넷 계층
    - IP 패킷 전송 및 라우팅 기능 담당
    - 프로토콜 
      - IP : 비연결성 인터넷 프로토콜
      - ICMP : IP 패킷 전송 중 여러 메시지 제공
      - IGMP : 멀티캐스트 그룹 구성원 관리
      - ARP : IP 주소를 MAC 주소로 변환
      - RARP : 물리적 주소(MAC)로부터 IP 주소를 추출
  - (OSI 7계층) 데이터 링크, 물리 → (TCP/IP 4계층) 네트워크 엑세스 계층
    - 프로토콜 
      - Ethernet : 물리 계층과 데이터 링크 계층에서의 통신 접근 제어 정의
      - X.25 : 패킷 교환망을 통한 통신 인터페이스 제공
      - RS-232C : DTE와 DCE간의 접속 규격
### TCP/IP 헤더
- IP 의 특징
  - 호스트 간의 통신 담당
  - 비신뢰성과 비연결성
- TCP 의 특징
  - 연결형 서비스 제공 전송 계층 프로토콜
  - 신뢰성 있는 데이터 전달과 흐름제어를 수행 
## 8. 라우팅 프로토콜
### 라우팅 프로토콜
- 라우터 : 네트워크에서 데이터 패킷의 경로 설정과 스위칭 담당 장비
- 라우팅 프로토콜 : 패킷이 목적지까지 도달하는 경로를 결정하는 프로토콜
### 라우팅 프로토콜 종류
- 라우팅 경로 고정 여부
  - 정적(Static Routing Protocol) : 경로를 네트워크 관리자가 수동으로 설정
  - 동적(Dynamic Routing Protocol) : 라우터가 네트워크 상태에 따라 라우팅 경로를 자동으로 결정 
- 내/외부 라우팅
  - IGP : 하나의 자치 시스템 내에서 사용되는 라우팅 프로토콜 (RIP, IGRP, OSPF, EIGRP)
  - EGP : 서로 다른 자치 시스템 간 라우팅에 사용되는 프로토콜 (BGP)
- 라우팅 테이블 관리 
  - 거리 벡터 알고리즘 : 홉 수 와 방향 정보만을 기록 (RIP, IGRP)
  - 링크 상태 알고리즘 : 링크 상태 정보를 가지고 경로 설정 (OSPF)
### 주요 라우팅 프로토콜
- RIP : 홉 수 기반, 최대 15홉
- OSPF : 링크 상태 라우팅 프로토콜
- BGP : 대규모 네트워크에 적합한 프로토콜
